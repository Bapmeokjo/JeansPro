<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.jeans.domain.admin.notice.dao.NoticeDAO">
    <!--공지사항 목록 모두 조회-->
    <select id="selectAll" resultType="com.project.jeans.domain.admin.notice.dto.NoticeDTO">
        <![CDATA[
        SELECT *
        FROM notice
        ORDER BY notice_no desc;
        ]]>
    </select>
    <!--공지사항 상세보기-->
    <select id="noticeDetail" parameterType="Integer" resultType="com.project.jeans.domain.admin.notice.dto.NoticeDTO">
        <![CDATA[
        SELECT *
        FROM notice
        WHERE notice_no = #{notice_no};
        ]]>
    </select>
    <update id="noticeCountUp" parameterType="Integer">
        UPDATE notice
        SET notice_count = notice_count + 1
        WHERE notice_no = #{notice_no};
    </update>
    <!--댓글 상세보기-->
    <select id="nreplyDetail" parameterType="Integer" resultType="com.project.jeans.domain.admin.notice.dto.NReplyDTO">
        <![CDATA[
        SELECT *
        FROM notice_comment
        WHERE notice_no = #{notice_no};
        ]]>
    </select>

    <!--공지사항 INSERT-->
    <insert id="insertNotice" parameterType="com.project.jeans.domain.admin.notice.dto.NoticeDTO">
        <![CDATA[
        INSERT INTO notice (notice_title, notice_content, member_class)
        VALUES (#{notice_title}, #{notice_content}, #{member_class});
        ]]>
    </insert>
    <!--공지사항 isShow-->
    <update id="isShowNotice" parameterType="Integer">
        <![CDATA[
        UPDATE notice
        SET notice_isshow = 'N'
        WHERE notice_no = #{notice_no};
        ]]>
    </update>
</mapper>