<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.jeans.domain.board1.dao.Board1DAO">
    <select id="findAll" resultType="board1">
        <![CDATA[
        SELECT * FROM board1
        ]]>
    </select>

    <!-- 상세 -->
    <select id="board1Read" parameterType="int">
        <![CDATA[
        SELECT * FROM board1
        where board1_no=#{board1_no}
        ]]>

    </select>

    <!--작성-->
    <insert id="board1Write" parameterType="board1">
        <![CDATA[
        insert into board1 (board1_content,board1_isshow, board1_no,board1_regdate,board1_title,member_class,member_name)
        values (#{board1_content},#{board1_isshow},#{board1_no},#{board1_regdate},#{board1_title},#{member_class},#{member_name})
        ]]>
    </insert>

  <!--재권 파트-->
    <!-- 반별 게시판 목록 조회 -->
    <!-- 수정-->
    <update id="board1Modify" parameterType="board1">
    <![CDATA[
    update board1
    set board1_title = #{board1_title}, board1_contents = #{board1_contents}, board1_regdate = now()
    where board1_no=#{board1_no}
    ]]>
    </update>

    <!-- 삭제-->
    <update id="board1Delete" parameterType="int">
       <![CDATA[
        update board1 set board1_isshow = 'N'
        where board1_no=#{board1_no}
       ]]>
     </update>

    <select id="findBoard1All" resultType="com.project.jeans.domain.board.board1.dto.Board1DTO">
        <![CDATA[
        SELECT board1_no, board1_title, board1_content, board1_regdate, board1_isshow, member_name, member_class
        FROM board1
        WHERE board1_isshow='Y' ORDER BY board1_no DESC
        ]]>
    </select>
    <!-- 반별 게시글 상세 조회 -->
    <select id="findBoard1ByNo" resultType="com.project.jeans.domain.board1.dto.Board1DTO">
        <![CDATA[
        SELECT board1_no, board1_title, board1_content, board1_regdate, board1_isshow, member_name, member_class
        FROM board1
        WHERE board1_no=#{board1_no}
        ]]>
    </select>
    <!-- 게시글 작성 -->
    <!-- 로그인한 회원이 작성하게끔 바꿔줘야 함-->
    <insert id="insertBoard1" parameterType="map">
        <![CDATA[
        INSERT INTO board1(board1_title, board1_content, board1_regdate, board1_isshow, member_name, member_class)
        values(#{board1_title},#{board1_content},now(),'Y','John Doe','A')
        ]]>
    </insert>
    <!-- 게시글 수정 -->
    <update id="updateBoard1" parameterType="map">
        <![CDATA[
        UPDATE board1
        SET board1_title=#{board1_title}, board1_content=#{board1_content}, board1_regdate=now()
        WHERE board1_no=#{board1_no}
        ]]>
    </update>
    <!-- 게시글 삭제 -->
    <delete id="deleteBoard1" parameterType="map">
        <![CDATA[
        UPDATE board1
        SET board1_isshow='N'
        WHERE board1_no=#{board1_no}
        ]]>
    </delete>

</mapper>